<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•™å¸ˆè®­ç»ƒé€å­—ç¨¿é¡µé¢</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #667eea;
            font-size: 28px;
            margin-bottom: 20px;
        }
        .description {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        .tab-container {
            margin-bottom: 20px;
        }
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
        }
        .tab-button {
            padding: 12px 24px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 16px;
            color: #555;
            flex: 1;
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        .tab-button:hover {
            background: #e0e7ff;
        }
        .tab-button.active:hover {
            background: #5a67d8;
        }
        .tab-content {
            display: none;
            padding: 20px 0;
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input[type="text"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        input[type="text"]:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        textarea {
            min-height: 200px;
            resize: vertical;
        }
        .button-group {
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.3);
        }
        button:active {
            transform: translateY(0);
        }
        button.secondary {
            background: #48bb78;
        }
        button.secondary:hover {
            background: #38a169;
        }
        button.danger {
            background: #f56565;
        }
        button.danger:hover {
            background: #e53e3e;
        }
        .script-list {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }
        .script-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
        }
        .script-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .script-item h3 {
            margin: 0 0 10px 0;
            color: #667eea;
        }
        .script-meta {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .script-actions {
            margin-top: 10px;
        }
        .preview-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .preview-title {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
        }
        .preview-content {
            line-height: 1.8;
            color: #333;
        }
        .timer-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .timer {
            font-size: 48px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }
        .custom-notice {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            color: #856404;
            border: 1px solid #ffeeba;
        }
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #666;
            font-size: 14px;
        }
        .home-link {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .home-link:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ æ•™å¸ˆè®­ç»ƒé€å­—ç¨¿é¡µé¢</h1>
        <div class="description">
            ç”¨äºæ•™å¸ˆæ•™å­¦è®­ç»ƒçš„é€å­—ç¨¿ç¼–è¾‘ã€é¢„è§ˆå’Œç®¡ç†å·¥å…·ï¼
        </div>
        
        <div class="tab-container">
            <div class="tabs">
                <button class="tab-button active" onclick="openTab('create-script')">âœï¸ åˆ›å»ºé€å­—ç¨¿</button>
                <button class="tab-button" onclick="openTab('script-list')">ğŸ“‹ é€å­—ç¨¿åˆ—è¡¨</button>
                <button class="tab-button" onclick="openTab('practice')">ğŸ¯ æ¨¡æ‹Ÿç»ƒä¹ </button>
            </div>
            
            <div id="create-script" class="tab-content active">
                <form id="scriptForm">
                    <div class="form-group">
                        <label for="title">ğŸ“Œ æ ‡é¢˜ï¼š</label>
                        <input type="text" id="title" name="title" placeholder="è¯·è¾“å…¥é€å­—ç¨¿æ ‡é¢˜" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">ğŸ“š ç§‘ç›®ï¼š</label>
                        <select id="subject" name="subject" required>
                            <option value="">è¯·é€‰æ‹©ç§‘ç›®</option>
                            <option value="è¯­æ–‡">è¯­æ–‡</option>
                            <option value="æ•°å­¦">æ•°å­¦</option>
                            <option value="è‹±è¯­">è‹±è¯­</option>
                            <option value="ç‰©ç†">ç‰©ç†</option>
                            <option value="åŒ–å­¦">åŒ–å­¦</option>
                            <option value="ç”Ÿç‰©">ç”Ÿç‰©</option>
                            <option value="å†å²">å†å²</option>
                            <option value="åœ°ç†">åœ°ç†</option>
                            <option value="æ”¿æ²»">æ”¿æ²»</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="grade">ğŸ« å¹´çº§ï¼š</label>
                        <select id="grade" name="grade" required>
                            <option value="">è¯·é€‰æ‹©å¹´çº§</option>
                            <option value="å°å­¦ä¸€å¹´çº§">å°å­¦ä¸€å¹´çº§</option>
                            <option value="å°å­¦äºŒå¹´çº§">å°å­¦äºŒå¹´çº§</option>
                            <option value="å°å­¦ä¸‰å¹´çº§">å°å­¦ä¸‰å¹´çº§</option>
                            <option value="å°å­¦å››å¹´çº§">å°å­¦å››å¹´çº§</option>
                            <option value="å°å­¦äº”å¹´çº§">å°å­¦äº”å¹´çº§</option>
                            <option value="å°å­¦å…­å¹´çº§">å°å­¦å…­å¹´çº§</option>
                            <option value="åˆä¸­ä¸€å¹´çº§">åˆä¸­ä¸€å¹´çº§</option>
                            <option value="åˆä¸­äºŒå¹´çº§">åˆä¸­äºŒå¹´çº§</option>
                            <option value="åˆä¸­ä¸‰å¹´çº§">åˆä¸­ä¸‰å¹´çº§</option>
                            <option value="é«˜ä¸­ä¸€å¹´çº§">é«˜ä¸­ä¸€å¹´çº§</option>
                            <option value="é«˜ä¸­äºŒå¹´çº§">é«˜ä¸­äºŒå¹´çº§</option>
                            <option value="é«˜ä¸­ä¸‰å¹´çº§">é«˜ä¸­ä¸‰å¹´çº§</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="content">ğŸ“ é€å­—ç¨¿å†…å®¹ï¼š</label>
                        <textarea id="content" name="content" placeholder="è¯·è¾“å…¥é€å­—ç¨¿å†…å®¹..." required></textarea>
                    </div>
                    
                    <div class="button-group">
                        <button type="submit">ğŸ’¾ ä¿å­˜é€å­—ç¨¿</button>
                        <button type="button" class="secondary" onclick="resetForm()">ğŸ”„ é‡ç½®è¡¨å•</button>
                        <button type="button" class="secondary" onclick="previewScript()">ğŸ‘€ é¢„è§ˆ</button>
                    </div>
                </form>
                
                <div class="preview-container" id="previewContainer" style="display: none;">
                    <div class="preview-title" id="previewTitle"></div>
                    <div class="preview-content" id="previewContent"></div>
                </div>
            </div>
            
            <div id="script-list" class="tab-content">
                <div class="script-list" id="scriptList">
                    <!-- é€å­—ç¨¿åˆ—è¡¨å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
                    <div style="text-align: center; color: #666; padding: 50px;">
                        æš‚æ— é€å­—ç¨¿ï¼Œè¯·å…ˆåˆ›å»ºï¼
                    </div>
                </div>
            </div>
            
            <div id="practice" class="tab-content">
                <div class="form-group">
                    <label for="practiceScript">ğŸ“ é€‰æ‹©è¦ç»ƒä¹ çš„é€å­—ç¨¿ï¼š</label>
                    <select id="practiceScript" name="practiceScript">
                        <option value="">è¯·é€‰æ‹©é€å­—ç¨¿</option>
                        <!-- é€å­—ç¨¿é€‰é¡¹å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
                    </select>
                </div>
                
                <div class="timer-section">
                    <h3>â±ï¸ ç»ƒä¹ è®¡æ—¶å™¨</h3>
                    <div class="timer" id="timer">00:00:00</div>
                    <div class="button-group">
                        <button id="startTimer" onclick="startTimer()">â–¶ï¸ å¼€å§‹è®¡æ—¶</button>
                        <button id="pauseTimer" onclick="pauseTimer()" disabled>â¸ï¸ æš‚åœ</button>
                        <button id="resetTimer" onclick="resetTimer()" disabled>ğŸ”„ é‡ç½®</button>
                    </div>
                </div>
                
                <div class="preview-container" id="practicePreview">
                    <div class="preview-title">é€‰æ‹©é€å­—ç¨¿å¼€å§‹ç»ƒä¹ </div>
                    <div class="preview-content">è¯·ä»ä¸Šæ–¹é€‰æ‹©ä¸€ä¸ªé€å­—ç¨¿å¼€å§‹ä½ çš„æ•™å­¦æ¨¡æ‹Ÿç»ƒä¹ ã€‚</div>
                </div>
            </div>
        </div>
        
        <div class="custom-notice">
            ğŸ’¡ æ•™å­¦ææ•ˆå·¥å…·å®šåˆ¶ï¼Œæ•™å­¦pptå®šåˆ¶ï¼Œå¯ä»¥è”ç³»å°çº¢ä¹¦åº—é“ºå®¢æœã€‚
        </div>
        
        <div class="footer">
            <p>ğŸ“š æ•™å¸ˆè®­ç»ƒå·¥å…· | ä¸“ä¸ºæ•™å¸ˆè®¾è®¡çš„æ•™å­¦è¾…åŠ©å·¥å…·</p>
            <a href="xiaoxue.html" class="home-link">ğŸ  è¿”å›å­¦ä¹ å·¥å…·é¦–é¡µ</a>
        </div>
    </div>
    
    <script>
        // é€å­—ç¨¿æ•°æ®å­˜å‚¨
        let scripts = JSON.parse(localStorage.getItem('teacherScripts')) || [];
        let currentTimer = null;
        let startTime = 0;
        let elapsedTime = 0;
        let isPaused = false;
        
        function openTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
            const tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            
            // æ˜¾ç¤ºå½“å‰æ ‡ç­¾å’ŒæŒ‰é’®
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // æ›´æ–°é€å­—ç¨¿åˆ—è¡¨
            if (tabName === 'script-list') {
                updateScriptList();
            }
            
            // æ›´æ–°ç»ƒä¹ é€‰é¡¹
            if (tabName === 'practice') {
                updatePracticeOptions();
            }
        }
        
        function saveScript() {
            const form = document.getElementById('scriptForm');
            const formData = new FormData(form);
            
            const script = {
                id: Date.now(),
                title: formData.get('title'),
                subject: formData.get('subject'),
                grade: formData.get('grade'),
                content: formData.get('content'),
                createdAt: new Date().toLocaleString(),
                updatedAt: new Date().toLocaleString()
            };
            
            scripts.push(script);
            localStorage.setItem('teacherScripts', JSON.stringify(scripts));
            
            alert('âœ… é€å­—ç¨¿ä¿å­˜æˆåŠŸï¼');
            resetForm();
            updateScriptList();
            updatePracticeOptions();
            
            return false;
        }
        
        function resetForm() {
            document.getElementById('scriptForm').reset();
            document.getElementById('previewContainer').style.display = 'none';
        }
        
        function previewScript() {
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;
            
            if (!title || !content) {
                alert('è¯·å…ˆå¡«å†™æ ‡é¢˜å’Œå†…å®¹ï¼');
                return;
            }
            
            document.getElementById('previewTitle').textContent = title;
            document.getElementById('previewContent').textContent = content;
            document.getElementById('previewContainer').style.display = 'block';
        }
        
        function updateScriptList() {
            const scriptList = document.getElementById('scriptList');
            
            if (scripts.length === 0) {
                scriptList.innerHTML = '<div style="text-align: center; color: #666; padding: 50px;">æš‚æ— é€å­—ç¨¿ï¼Œè¯·å…ˆåˆ›å»ºï¼</div>';
                return;
            }
            
            let html = '';
            for (let i = 0; i < scripts.length; i++) {
                const script = scripts[i];
                html += `
                    <div class="script-item">
                        <h3>${script.title}</h3>
                        <div class="script-meta">
                            <span>ç§‘ç›®ï¼š${script.subject} | </span>
                            <span>å¹´çº§ï¼š${script.grade} | </span>
                            <span>åˆ›å»ºæ—¶é—´ï¼š${script.createdAt}</span>
                        </div>
                        <div class="script-actions">
                            <button class="secondary" onclick="editScript(${script.id})">âœï¸ ç¼–è¾‘</button>
                            <button class="secondary" onclick="viewScript(${script.id})">ğŸ‘€ æŸ¥çœ‹</button>
                            <button class="danger" onclick="deleteScript(${script.id})">ğŸ—‘ï¸ åˆ é™¤</button>
                        </div>
                    </div>
                `;
            }
            
            scriptList.innerHTML = html;
        }
        
        function updatePracticeOptions() {
            const practiceScript = document.getElementById('practiceScript');
            
            practiceScript.innerHTML = '<option value="">è¯·é€‰æ‹©é€å­—ç¨¿</option>';
            
            for (let i = 0; i < scripts.length; i++) {
                const script = scripts[i];
                practiceScript.innerHTML += `<option value="${script.id}">${script.title}</option>`;
            }
            
            // æ·»åŠ é€‰æ‹©äº‹ä»¶
            practiceScript.onchange = function() {
                const scriptId = this.value;
                if (scriptId) {
                    const script = scripts.find(s => s.id == scriptId);
                    if (script) {
                        document.getElementById('practicePreview').innerHTML = `
                            <div class="preview-title">${script.title}</div>
                            <div class="preview-content">${script.content}</div>
                        `;
                    }
                } else {
                    document.getElementById('practicePreview').innerHTML = `
                        <div class="preview-title">é€‰æ‹©é€å­—ç¨¿å¼€å§‹ç»ƒä¹ </div>
                        <div class="preview-content">è¯·ä»ä¸Šæ–¹é€‰æ‹©ä¸€ä¸ªé€å­—ç¨¿å¼€å§‹ä½ çš„æ•™å­¦æ¨¡æ‹Ÿç»ƒä¹ ã€‚</div>
                    `;
                }
            };
        }
        
        function editScript(id) {
            // ç®€å•å®ç°ï¼Œå®é™…å¯ä»¥æ›´å¤æ‚
            alert('ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼');
        }
        
        function viewScript(id) {
            const script = scripts.find(s => s.id == id);
            if (script) {
                alert(`ğŸ“ ${script.title}\n\n${script.content}`);
            }
        }
        
        function deleteScript(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé€å­—ç¨¿å—ï¼Ÿ')) {
                scripts = scripts.filter(s => s.id != id);
                localStorage.setItem('teacherScripts', JSON.stringify(scripts));
                updateScriptList();
                updatePracticeOptions();
                alert('âœ… é€å­—ç¨¿åˆ é™¤æˆåŠŸï¼');
            }
        }
        
        function startTimer() {
            startTime = Date.now() - elapsedTime;
            currentTimer = setInterval(updateTimer, 1000);
            
            document.getElementById('startTimer').disabled = true;
            document.getElementById('pauseTimer').disabled = false;
            document.getElementById('resetTimer').disabled = false;
        }
        
        function pauseTimer() {
            clearInterval(currentTimer);
            currentTimer = null;
            isPaused = true;
            
            document.getElementById('startTimer').disabled = false;
            document.getElementById('pauseTimer').disabled = true;
        }
        
        function resetTimer() {
            clearInterval(currentTimer);
            currentTimer = null;
            elapsedTime = 0;
            isPaused = false;
            document.getElementById('timer').textContent = '00:00:00';
            
            document.getElementById('startTimer').disabled = false;
            document.getElementById('pauseTimer').disabled = true;
            document.getElementById('resetTimer').disabled = true;
        }
        
        function updateTimer() {
            elapsedTime = Date.now() - startTime;
            const hours = Math.floor(elapsedTime / (1000 * 60 * 60));
            const minutes = Math.floor((elapsedTime % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((elapsedTime % (1000 * 60)) / 1000);
            
            const formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timer').textContent = formattedTime;
        }
        
        // ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
        document.getElementById('scriptForm').onsubmit = function(e) {
            e.preventDefault();
            saveScript();
        };
        
        // åˆå§‹åŒ–
        updateScriptList();
        updatePracticeOptions();
    </script>
</body>
</html>