<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥¥æ•°æ€ç»´ä¹å›­ - äºŒå¹´çº§æ•°å­¦æ¸¸æˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7fa 0%, #bbdefb 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #ff9800;
            border-radius: 20px;
            box-shadow: 0 8px 15px rgba(255, 152, 0, 0.3);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header-icons {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2.5rem;
            color: white;
            opacity: 0.8;
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-between;
            background-color: #4caf50;
            color: white;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 10px rgba(76, 175, 80, 0.3);
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1rem;
        }
        
        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .game-card {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 5px solid transparent;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.15);
        }
        
        .game-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .game-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #2196f3;
        }
        
        .game-card p {
            font-size: 1rem;
            margin-bottom: 20px;
            color: #666;
            line-height: 1.5;
        }
        
        .difficulty {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 3px;
            background-color: #ddd;
        }
        
        .dot.filled {
            background-color: #ff9800;
        }
        
        .play-button {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .play-button i {
            margin-right: 8px;
        }
        
        .play-button:hover {
            background-color: #388e3c;
        }
        
        /* æ¸¸æˆåŒºåŸŸæ ·å¼ */
        .game-area {
            display: none;
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px dashed #eee;
        }
        
        .game-title {
            font-size: 2rem;
            color: #2196f3;
        }
        
        .close-game {
            background-color: #ff5252;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .game-content {
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .problem {
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 15px;
            width: 100%;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            width: 100%;
            max-width: 500px;
            margin-bottom: 30px;
        }
        
        .option {
            padding: 20px;
            font-size: 1.5rem;
            background-color: #e3f2fd;
            border: 3px solid #bbdefb;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .option:hover {
            background-color: #bbdefb;
            transform: scale(1.05);
        }
        
        .feedback {
            font-size: 1.8rem;
            margin-bottom: 20px;
            min-height: 50px;
            text-align: center;
        }
        
        .correct {
            color: #4caf50;
        }
        
        .incorrect {
            color: #ff5252;
        }
        
        .next-button {
            background-color: #2196f3;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.3rem;
            cursor: pointer;
            display: none;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #4caf50;
            width: 0%;
            transition: width 0.5s;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .games-container {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .stats-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .game-card {
                padding: 20px;
            }
        }
        
        /* å¥–åŠ±åŠ¨ç”» */
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f44336;
            top: 0;
            opacity: 0;
            z-index: 1000;
        }
        
        .reward-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffeb3b;
            padding: 30px;
            border-radius: 20px;
            font-size: 2rem;
            text-align: center;
            z-index: 1001;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-icons">
                <i class="fas fa-brain"></i>
            </div>
            <h1>å¥¥æ•°æ€ç»´ä¹å›­</h1>
            <p>æ¬¢è¿æ¥åˆ°äºŒå¹´çº§æ•°å­¦æ€ç»´è®­ç»ƒè¥ï¼é€šè¿‡æ¸¸æˆæå‡ä½ çš„æ•°å­¦æ€ç»´èƒ½åŠ›ï¼Œå˜å¾—æ›´å¿«ã€æ›´èªæ˜ï¼</p>
        </header>
        
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">æ€»åˆ†</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="level">1</div>
                <div class="stat-label">ç­‰çº§</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="streak">0</div>
                <div class="stat-label">è¿ç»­æ­£ç¡®</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="games-played">0</div>
                <div class="stat-label">æ¸¸æˆæ¬¡æ•°</div>
            </div>
        </div>
        
        <div class="games-container">
            <div class="game-card" data-game="logic">
                <div class="game-icon">
                    <i class="fas fa-puzzle-piece" style="color: #ff9800;"></i>
                </div>
                <h3>é€»è¾‘æ¨ç†</h3>
                <p>é€šè¿‡å›¾å½¢å’Œæ•°å­—çš„è§„å¾‹ï¼Œæ‰¾å‡ºæ­£ç¡®çš„ç­”æ¡ˆï¼Œé”»ç‚¼é€»è¾‘æ€ç»´èƒ½åŠ›ã€‚</p>
                <div class="difficulty">
                    <div class="dot filled"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <button class="play-button"><i class="fas fa-play"></i>å¼€å§‹æ¸¸æˆ</button>
            </div>
            
            <div class="game-card" data-game="calculation">
                <div class="game-icon">
                    <i class="fas fa-calculator" style="color: #4caf50;"></i>
                </div>
                <h3>å¿«é€Ÿè®¡ç®—</h3>
                <p>æŒ‘æˆ˜åŠ å‡ä¹˜é™¤è¿ç®—ï¼Œæé«˜è®¡ç®—é€Ÿåº¦å’Œå‡†ç¡®åº¦ã€‚</p>
                <div class="difficulty">
                    <div class="dot filled"></div>
                    <div class="dot filled"></div>
                    <div class="dot"></div>
                </div>
                <button class="play-button"><i class="fas fa-play"></i>å¼€å§‹æ¸¸æˆ</button>
            </div>
            
            <div class="game-card" data-game="pattern">
                <div class="game-icon">
                    <i class="fas fa-shapes" style="color: #2196f3;"></i>
                </div>
                <h3>å›¾å½¢è§„å¾‹</h3>
                <p>è§‚å¯Ÿå›¾å½¢åºåˆ—ï¼Œå‘ç°å…¶ä¸­çš„è§„å¾‹ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ªå›¾å½¢ã€‚</p>
                <div class="difficulty">
                    <div class="dot filled"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <button class="play-button"><i class="fas fa-play"></i>å¼€å§‹æ¸¸æˆ</button>
            </div>
            
            <div class="game-card" data-game="memory">
                <div class="game-icon">
                    <i class="fas fa-brain" style="color: #9c27b0;"></i>
                </div>
                <h3>è®°å¿†æŒ‘æˆ˜</h3>
                <p>è®°ä½æ•°å­—å’Œå›¾å½¢çš„ä½ç½®ï¼ŒåŒ¹é…ç›¸åŒçš„å¡ç‰‡ï¼Œé”»ç‚¼è®°å¿†åŠ›ã€‚</p>
                <div class="difficulty">
                    <div class="dot filled"></div>
                    <div class="dot filled"></div>
                    <div class="dot filled"></div>
                </div>
                <button class="play-button"><i class="fas fa-play"></i>å¼€å§‹æ¸¸æˆ</button>
            </div>
        </div>
        
        <!-- æ¸¸æˆåŒºåŸŸ -->
        <div class="game-area" id="game-area">
            <div class="game-header">
                <h2 class="game-title" id="game-title">é€»è¾‘æ¨ç†æ¸¸æˆ</h2>
                <button class="close-game" id="close-game">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="game-content">
                <div class="problem" id="problem">é—®é¢˜åŠ è½½ä¸­...</div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="options" id="options">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <button class="next-button" id="next-button">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <footer>
            <p>Â© 2023 å¥¥æ•°æ€ç»´ä¹å›­ - ä¸“ä¸ºäºŒå¹´çº§å­¦ç”Ÿè®¾è®¡ | é€šè¿‡æ¸¸æˆåŒ–å­¦ä¹ åŸ¹å…»æ•°å­¦æ€ç»´èƒ½åŠ›</p>
            <p>å»ºè®®åœ¨å®¶é•¿æˆ–è€å¸ˆçš„æŒ‡å¯¼ä¸‹ä½¿ç”¨</p>
        </footer>
    </div>
    
    <!-- å¥–åŠ±æ¶ˆæ¯ -->
    <div class="reward-message" id="reward-message">
        <p>å¤ªæ£’äº†ï¼ä½ è·å¾—äº†ä¸€ä¸ªå¥–åŠ±ï¼</p>
        <p><i class="fas fa-star" style="color: #ff9800;"></i> +10 åˆ†</p>
    </div>
    
    <script>
        // æ¸¸æˆæ•°æ®å’ŒçŠ¶æ€
        const gameData = {
            score: 0,
            level: 1,
            streak: 0,
            gamesPlayed: 0,
            currentGame: null,
            currentQuestion: 0,
            totalQuestions: 5,
            correctAnswers: 0
        };
        
        // æ¸¸æˆé—®é¢˜åº“
        const questions = {
            logic: [
                {
                    question: "å¦‚æœ â–³ + â–³ = 4ï¼Œé‚£ä¹ˆ â–³ ç­‰äºå¤šå°‘ï¼Ÿ",
                    options: ["1", "2", "3", "4"],
                    answer: 1
                },
                {
                    question: "è§‚å¯Ÿæ•°åˆ—ï¼š2, 4, 6, 8, ? ä¸‹ä¸€ä¸ªæ•°æ˜¯å¤šå°‘ï¼Ÿ",
                    options: ["9", "10", "12", "14"],
                    answer: 1
                },
                {
                    question: "å¦‚æœ â—‹ + â—‹ + â—‹ = 12ï¼Œé‚£ä¹ˆ â—‹ ç­‰äºå¤šå°‘ï¼Ÿ",
                    options: ["2", "3", "4", "6"],
                    answer: 2
                },
                {
                    question: "å°æ˜æœ‰3ä¸ªè‹¹æœï¼Œå°çº¢æ¯”å°æ˜å¤š2ä¸ªè‹¹æœï¼Œå°çº¢æœ‰å‡ ä¸ªè‹¹æœï¼Ÿ",
                    options: ["3", "4", "5", "6"],
                    answer: 2
                },
                {
                    question: "è§‚å¯Ÿå›¾å½¢ï¼šâ–¡, â—‹, â–¡, â—‹, â–¡, ? ä¸‹ä¸€ä¸ªæ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["â–¡", "â—‹", "â–³", "â˜†"],
                    answer: 1
                }
            ],
            calculation: [
                {
                    question: "7 + 8 = ?",
                    options: ["14", "15", "16", "17"],
                    answer: 1
                },
                {
                    question: "12 - 5 = ?",
                    options: ["5", "6", "7", "8"],
                    answer: 2
                },
                {
                    question: "3 Ã— 4 = ?",
                    options: ["7", "10", "12", "14"],
                    answer: 2
                },
                {
                    question: "18 Ã· 3 = ?",
                    options: ["5", "6", "7", "8"],
                    answer: 1
                },
                {
                    question: "9 + 6 - 3 = ?",
                    options: ["10", "11", "12", "13"],
                    answer: 2
                }
            ],
            pattern: [
                {
                    question: "è§‚å¯Ÿå›¾å½¢åºåˆ—ï¼šâ–², â–², â—, â–², â–², â—, â–², â–², ?",
                    options: ["â–²", "â—", "â– ", "â˜…"],
                    answer: 1
                },
                {
                    question: "ä¸‹åˆ—å›¾å½¢ä¸­ï¼Œå“ªä¸€ä¸ªä¸å…¶ä»–ä¸åŒï¼Ÿ",
                    options: ["ğŸ”º", "ğŸ”º", "ğŸ”µ", "ğŸ”º"],
                    answer: 2
                },
                {
                    question: "å¦‚æœ ğŸ”´ğŸŸ¢ğŸ”µğŸŸ¡ é‡å¤ï¼Œä¸‹ä¸€ä¸ªé¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["ğŸ”´", "ğŸŸ¢", "ğŸ”µ", "ğŸŸ¡"],
                    answer: 0
                },
                {
                    question: "å›¾å½¢è§„å¾‹ï¼šâ–¡, â–¡â– , â–¡â– â–¡, â–¡â– â–¡â– , ?",
                    options: ["â–¡â– â–¡â– â–¡", "â– â–¡â– â–¡â– ", "â–¡â– â–¡", "â– â–¡â– "],
                    answer: 0
                },
                {
                    question: "æ‰¾å‡ºä¸åŒçš„å›¾å½¢ï¼šğŸ”¶, ğŸ”¶, ğŸ”·, ğŸ”¶",
                    options: ["ç¬¬ä¸€ä¸ª", "ç¬¬äºŒä¸ª", "ç¬¬ä¸‰ä¸ª", "ç¬¬å››ä¸ª"],
                    answer: 2
                }
            ],
            memory: [
                {
                    question: "è®°ä½è¿™ä¸ªæ•°å­—åºåˆ—ï¼š3, 6, 9ã€‚ç¬¬äºŒä¸ªæ•°å­—æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["3", "6", "9", "12"],
                    answer: 1
                },
                {
                    question: "è®°ä½è¿™ä¸ªåºåˆ—ï¼šğŸ”µ, ğŸ”´, ğŸŸ¡ã€‚ç¬¬ä¸‰ä¸ªæ˜¯ä»€ä¹ˆé¢œè‰²ï¼Ÿ",
                    options: ["ğŸ”µ", "ğŸ”´", "ğŸŸ¡", "ğŸŸ¢"],
                    answer: 2
                },
                {
                    question: "è®°ä½å›¾å½¢ï¼šâ–³, â—‹, â–¡, â–³ã€‚å“ªä¸ªå›¾å½¢å‡ºç°äº†ä¸¤æ¬¡ï¼Ÿ",
                    options: ["â–³", "â—‹", "â–¡", "â˜†"],
                    answer: 0
                },
                {
                    question: "è®°ä½æ•°å­—ï¼š5, 2, 8, 5ã€‚å“ªä¸ªæ•°å­—é‡å¤äº†ï¼Ÿ",
                    options: ["5", "2", "8", "æ²¡æœ‰é‡å¤"],
                    answer: 0
                },
                {
                    question: "è®°ä½åºåˆ—ï¼šå·¦, å³, å·¦, å·¦, å³ã€‚ç¬¬ä¸‰ä¸ªæ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["å·¦", "å³", "ä¸Š", "ä¸‹"],
                    answer: 0
                }
            ]
        };
        
        // æ¸¸æˆåç§°æ˜ å°„
        const gameNames = {
            logic: "é€»è¾‘æ¨ç†",
            calculation: "å¿«é€Ÿè®¡ç®—",
            pattern: "å›¾å½¢è§„å¾‹",
            memory: "è®°å¿†æŒ‘æˆ˜"
        };
        
        // DOMå…ƒç´ 
        const scoreElement = document.getElementById('score');
        const levelElement = document.getElementById('level');
        const streakElement = document.getElementById('streak');
        const gamesPlayedElement = document.getElementById('games-played');
        const gameCards = document.querySelectorAll('.game-card');
        const gameArea = document.getElementById('game-area');
        const gameTitle = document.getElementById('game-title');
        const problemElement = document.getElementById('problem');
        const optionsElement = document.getElementById('options');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('next-button');
        const closeGameButton = document.getElementById('close-game');
        const progressBar = document.getElementById('progress-bar');
        const rewardMessage = document.getElementById('reward-message');
        
        // åˆå§‹åŒ–
        function init() {
            updateStats();
            
            // ä¸ºæ¯ä¸ªæ¸¸æˆå¡ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶
            gameCards.forEach(card => {
                const playButton = card.querySelector('.play-button');
                playButton.addEventListener('click', () => {
                    const gameType = card.dataset.game;
                    startGame(gameType);
                });
            });
            
            // ä¸‹ä¸€é¢˜æŒ‰é’®äº‹ä»¶
            nextButton.addEventListener('click', loadNextQuestion);
            
            // å…³é—­æ¸¸æˆæŒ‰é’®äº‹ä»¶
            closeGameButton.addEventListener('click', closeGame);
        }
        
        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            scoreElement.textContent = gameData.score;
            levelElement.textContent = gameData.level;
            streakElement.textContent = gameData.streak;
            gamesPlayedElement.textContent = gameData.gamesPlayed;
            
            // æ ¹æ®åˆ†æ•°æ›´æ–°ç­‰çº§
            if (gameData.score >= 100) gameData.level = 5;
            else if (gameData.score >= 70) gameData.level = 4;
            else if (gameData.score >= 50) gameData.level = 3;
            else if (gameData.score >= 20) gameData.level = 2;
            else gameData.level = 1;
        }
        
        // å¼€å§‹æ¸¸æˆ
        function startGame(gameType) {
            gameData.currentGame = gameType;
            gameData.currentQuestion = 0;
            gameData.correctAnswers = 0;
            gameData.gamesPlayed++;
            
            // æ˜¾ç¤ºæ¸¸æˆåŒºåŸŸ
            gameArea.style.display = 'block';
            gameTitle.textContent = gameNames[gameType] + 'æ¸¸æˆ';
            
            // æ»šåŠ¨åˆ°æ¸¸æˆåŒºåŸŸ
            gameArea.scrollIntoView({ behavior: 'smooth' });
            
            // åŠ è½½ç¬¬ä¸€ä¸ªé—®é¢˜
            loadQuestion();
            
            updateStats();
        }
        
        // åŠ è½½é—®é¢˜
        function loadQuestion() {
            const gameType = gameData.currentGame;
            const questionIndex = gameData.currentQuestion;
            const question = questions[gameType][questionIndex];
            
            // æ›´æ–°é—®é¢˜æ–‡æœ¬
            problemElement.textContent = question.question;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progressPercent = (questionIndex / gameData.totalQuestions) * 100;
            progressBar.style.width = `${progressPercent}%`;
            
            // æ¸…ç©ºåé¦ˆ
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            
            // éšè—ä¸‹ä¸€é¢˜æŒ‰é’®
            nextButton.style.display = 'none';
            
            // ç”Ÿæˆé€‰é¡¹
            optionsElement.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                optionElement.addEventListener('click', () => {
                    checkAnswer(index, question.answer);
                });
                
                optionsElement.appendChild(optionElement);
            });
        }
        
        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedIndex, correctIndex) {
            const options = document.querySelectorAll('.option');
            
            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå’Œåé¦ˆ
            if (selectedIndex === correctIndex) {
                // æ­£ç¡®ç­”æ¡ˆ
                options[selectedIndex].style.backgroundColor = '#c8e6c9';
                options[selectedIndex].style.borderColor = '#4caf50';
                
                feedbackElement.textContent = 'å¤ªæ£’äº†ï¼ç­”å¯¹äº†ï¼';
                feedbackElement.className = 'feedback correct';
                
                gameData.score += 10;
                gameData.streak++;
                gameData.correctAnswers++;
                
                // å¦‚æœè¿ç»­ç­”å¯¹3é¢˜ï¼Œç»™äºˆé¢å¤–å¥–åŠ±
                if (gameData.streak % 3 === 0) {
                    showReward();
                    gameData.score += 10;
                }
            } else {
                // é”™è¯¯ç­”æ¡ˆ
                options[selectedIndex].style.backgroundColor = '#ffcdd2';
                options[selectedIndex].style.borderColor = '#ff5252';
                
                // é«˜äº®æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
                options[correctIndex].style.backgroundColor = '#c8e6c9';
                options[correctIndex].style.borderColor = '#4caf50';
                
                feedbackElement.textContent = 'å†è¯•ä¸€æ¬¡ï¼æ­£ç¡®ç­”æ¡ˆå·²é«˜äº®æ˜¾ç¤ºã€‚';
                feedbackElement.className = 'feedback incorrect';
                
                gameData.streak = 0;
            }
            
            // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
            nextButton.style.display = 'block';
            
            updateStats();
        }
        
        // åŠ è½½ä¸‹ä¸€é¢˜
        function loadNextQuestion() {
            gameData.currentQuestion++;
            
            if (gameData.currentQuestion < gameData.totalQuestions) {
                loadQuestion();
            } else {
                // æ¸¸æˆç»“æŸï¼Œæ˜¾ç¤ºç»“æœ
                endGame();
            }
        }
        
        // ç»“æŸæ¸¸æˆ
        function endGame() {
            const percentage = (gameData.correctAnswers / gameData.totalQuestions) * 100;
            
            problemElement.innerHTML = `
                <h3>æ¸¸æˆç»“æŸï¼</h3>
                <p>ä½ åœ¨ ${gameNames[gameData.currentGame]} æ¸¸æˆä¸­ç­”å¯¹äº† ${gameData.correctAnswers} é¢˜ï¼Œå…± ${gameData.totalQuestions} é¢˜</p>
                <p>æ­£ç¡®ç‡ï¼š${percentage}%</p>
                <p>æœ¬æ¬¡è·å¾—ï¼š${gameData.correctAnswers * 10} åˆ†</p>
            `;
            
            optionsElement.innerHTML = '';
            feedbackElement.textContent = '';
            nextButton.style.display = 'none';
            
            // æ›´æ–°è¿›åº¦æ¡
            progressBar.style.width = '100%';
            
            // æ˜¾ç¤ºé‡æ–°å¼€å§‹æŒ‰é’®
            const restartButton = document.createElement('button');
            restartButton.textContent = 'å†ç©ä¸€æ¬¡';
            restartButton.className = 'play-button';
            restartButton.style.marginTop = '20px';
            restartButton.addEventListener('click', () => {
                startGame(gameData.currentGame);
            });
            
            optionsElement.appendChild(restartButton);
        }
        
        // å…³é—­æ¸¸æˆ
        function closeGame() {
            gameArea.style.display = 'none';
        }
        
        // æ˜¾ç¤ºå¥–åŠ±åŠ¨ç”»
        function showReward() {
            // æ˜¾ç¤ºå¥–åŠ±æ¶ˆæ¯
            rewardMessage.style.display = 'block';
            
            // åˆ›å»ºå½©è‰²çº¸å±‘æ•ˆæœ
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
                confetti.style.animation = `confetti ${Math.random() * 2 + 1}s linear forwards`;
                
                document.body.appendChild(confetti);
                
                // ç§»é™¤çº¸å±‘å…ƒç´ 
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
            
            // 2ç§’åéšè—å¥–åŠ±æ¶ˆæ¯
            setTimeout(() => {
                rewardMessage.style.display = 'none';
            }, 2000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>